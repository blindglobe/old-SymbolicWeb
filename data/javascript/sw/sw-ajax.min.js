swGetCurrentHash=$.browser.mozilla?function(){return window.location.hash.length>1?"#"+window.location.href.split("#")[1].replace(/%27/g,"'"):"#"}:function(){return location.hash};function swURL(){return[window.location.protocol,"//",sw_dynamic_subdomain,window.location.host,window.location.pathname].join("")}
swAjax=function(){function b(){$("#sw-loading-spinner").css("display","block")}function c(){a.shift();if(a.length!=0)a[0]();else if(d){clearTimeout(d);d=false;$("#sw-loading-spinner").css("display","none")}}var a=[],d=false;return function(e,f,g){a.push(function(){var h=[window.location.protocol,"//",window.location.host,window.location.pathname,"?_sw_request-type=ajax&_sw_viewport-id=",sw_viewport_id,e].join(""),i={type:function(){return f.length+h.length>1950?"POST":"GET"}(),url:h,data:f,cache:false,
dataType:"text",beforeSend:function(){d||(d=setTimeout(b,500))},complete:c};if(g)i.success=g;$.ajax(i)})==1&&a[0]()}}();sw_comet_response=false;
swComet=function(){function b(){if(sw_comet_response){sw_comet_response=false;swComet("&do=ack")}else setTimeout("swComet('');",1E3)}function c(a){$.ajax({type:"GET",url:[swURL(),"?_sw_request-type=comet&_sw_viewport-id=",sw_viewport_id,a].join(""),dataType:"script",cache:false,complete:b})}return $.browser.mozilla?function(a){setTimeout(function(){c(a)},0)}:c}();function swHandleEvent(b,c,a,d){c()&&swAjax("&_sw_event=dom-event&_sw_callback-id="+b,a,d())}
function swMsg(b,c,a,d,e){a()&&swAjax("&_sw_event=dom-event&_sw_widget-id="+b+"&_sw_callback-id="+c,d,e())}function swTerminateSession(){swAjax("&_sw_event=terminate-session","",function(){window.location.reload()})}function swDisplaySessionInfo(){swAjax("&_sw_event=display-session-info","")}function swReturnValue(b,c){swAjax("&event=js-ack&code-id="+b,"&return-value="+encodeURIComponent(c()))}
function swReturnFail(b,c){swAjax("&event=js-fail&code-id="+b,"&exception-str="+encodeURIComponent(c.toString()))}function swRun(b,c,a){try{c?a():swReturnValue(b,a)}catch(d){swReturnFail(b,d)}}$(document).ready(function(){swComet("&do=refresh&hash="+encodeURIComponent(encodeURIComponent(swGetCurrentHash().substr(1))))});
