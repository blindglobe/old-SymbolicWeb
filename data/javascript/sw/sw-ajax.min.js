if($.browser.mozilla){swGetCurrentHash=function(){if((window.location.hash).length>1){return"#"+window.location.href.split("#")[1].replace(/%27/g,"'")}else{return"#"}}}else{swGetCurrentHash=function(){return location.hash}}function swURL(){return[window.location.protocol,"//",sw_dynamic_subdomain,window.location.host,window.location.pathname].join("")}swAjax=(function(){var a=new Array();var d=false;function c(){$("#sw-loading-spinner").css("display","block")}function b(){a.shift();if(a.length!=0){a[0]()}else{if(d){clearTimeout(d);d=false;$("#sw-loading-spinner").css("display","none")}}}return function(g,f,e){if(a.push(function(){var i=[window.location.protocol,"//",window.location.host,window.location.pathname,"?_sw_request-type=ajax","&_sw_viewport-id=",sw_viewport_id,g].join("");var h={type:(function(){console.log(f.length+i.length);if(f.length+i.length>1950){return"POST"}else{return"GET"}})(),url:i,data:f,cache:false,dataType:"text",beforeSend:function(){if(!d){d=setTimeout(c,500)}},complete:b};if(e){h.success=e}$.ajax(h)})==1){a[0]()}}})();sw_comet_response=false;swComet=(function(){function b(){if(sw_comet_response){sw_comet_response=false,swComet("&do=ack")}else{setTimeout("swComet('');",500)}}function a(c){$.ajax({type:"GET",url:[swURL(),"?_sw_request-type=comet","&_sw_viewport-id=",sw_viewport_id,c].join(""),dataType:"script",complete:b})}if(!$.browser.mozilla){return a}else{return function(c){setTimeout(function(){a(c)},0)}}})();function swHandleEvent(b,d,c,a){if(d()){swAjax("&_sw_event=dom-event&_sw_callback-id="+b,c,a())}}function swMsg(b,c,e,d,a){if(e()){swAjax("&_sw_event=dom-event&_sw_widget-id="+b+"&_sw_callback-id="+c,d,a())}}function swTerminateSession(){swAjax("&_sw_event=terminate-session","",function(){window.location.reload()})}function swDisplaySessionInfo(){swAjax("&_sw_event=display-session-info","")}function swReturnValue(b,a){swAjax("&event=js-ack&code-id="+b,"&return-value="+encodeURIComponent(a()))}function swReturnFail(b,a){swAjax("&event=js-fail&code-id="+b,"&exception-str="+encodeURIComponent(a.toString()))}function swRun(d,c,b){try{if(c){b()}else{swReturnValue(d,b)}}catch(a){swReturnFail(d,a)}}$(document).ready(function(){swComet("&do=refresh&hash="+encodeURIComponent(encodeURIComponent(swGetCurrentHash().substr(1))))});